<h3 class="card-header text-center bg-grey">Places Mentioned List</h3>
    <div class="card-body">
            <table class="table table-bordered" id="mentioned_table" data-ajax="{% url 'api:places-mentioned-list' %}?case={{ view.kwargs.pk }}&expand=village&format=datatables" data-page-length="25">
                <thead>
                    <th>Village</th>
                    <th>County</th>
                    <th>Great Rumor</th>
                    <th>Ancient Demesne</th>
                    <th>Sessions</th>
                    <th>Cases</th>
                    <th>Residents</th>
                    <th>Litigants</th>
                    <th>Notes</th>
                </thead>
            </table>
    </div>

<script>
    var mentioned_table = $("#mentioned_table").dataTable({
        serverSide: true,
        columns:[
            {data: 'village.name'},
            {data: 'village.county.name'},
            {data: 'village.great_rumor',
                defaultContent: false,
                searchable: false,
                orderable: false,
                render:{
                    display: function(data){
                        if (data){
                            return "<i class='fas fa-check' style='color:forestgreen'></i>";
                        } else {
                            return "";
                        }
                    }
                }
            },
            {data: 'village.ancient_demesne',
                defaultContent: false,
                searchable: false,
                orderable: false,
                render:{
                    display: function(data){
                        if (data){
                            return "<i class='fas fa-check' style='color:forestgreen'></i>";
                        } else {
                            return "";
                        }
                    }
                }
            },
            {data: 'village.counts.session',
                searchable: false,
                orderable: false,
            },
            {data: 'village.counts.case',
                searchable: false,
                orderable: false,
            },
            {data: 'village.counts.resident',
                searchable: false,
                orderable: false,
            },
            {data: 'village.counts.litigant',
                searchable: false,
                orderable: false,
            },
            {data: 'notes'},
        ]
    })
</script>
